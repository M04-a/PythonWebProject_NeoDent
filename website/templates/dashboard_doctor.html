{% extends 'base.html' %}
{% block title %}Panou Doctor{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2 class="mb-4 text-center">Programări primite</h2>

  {% if programari %}
    <ul class="list-group">
      {% for p in programari %}
        <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
          <div>
            <strong>{{ p.data }} - {{ p.ora }}</strong><br>
            De la: {{ p.pacient.first_name }} {{ p.pacient.last_name }}<br>
            Status: <span class="badge {% if p.status == 'in_asteptare' %}bg-warning{% elif p.status == 'confirmata' %}bg-success{% else %}bg-danger{% endif %}">
              {{ p.status|capfirst }}
            </span>
          </div>
          {% if p.status == 'in_asteptare' %}
            <div>
              <a href="{% url 'accepta_programare' p.id %}" class="btn btn-success btn-sm me-2">Acceptă</a>
              <a href="{% url 'refuza_programare' p.id %}" class="btn btn-danger btn-sm">Refuză</a>
            </div>
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p class="text-center">Nu ai programări momentan.</p>
  {% endif %}
</div>
{% endblock %}
